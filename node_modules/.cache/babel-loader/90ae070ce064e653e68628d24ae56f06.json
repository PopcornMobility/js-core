{"ast":null,"code":"import _classCallCheck from \"/Users/stefanm/Projects/js-core/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/stefanm/Projects/js-core/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/stefanm/Projects/js-core/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/stefanm/Projects/js-core/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/stefanm/Projects/js-core/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _regeneratorRuntime from \"/Users/stefanm/Projects/js-core/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/stefanm/Projects/js-core/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/stefanm/Projects/js-core/src/testModules/dashboard/pages/remoteSelectUsers.js\";\n\n/* eslint-disable camelcase */\nimport React from 'react';\nimport { Form, getToken } from '../../../lib';\nvar API = \"https://stage.api.citylink.ro/api/v1/admin/users\";\nvar API_CITYRIDE = \"https://stage.crm.api.cityride.tech/api/v1/options\";\nvar token_cityride = \"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdWQiOiIxIiwianRpIjoiNGRjMmI4MjhmYjYzN2JhYzNkYjZiMDBkNDhjMTE0ZDJmZGM4MGU3OTg0YzViMjYzNTRkMzdhMzVjMjczOTJkMjk3NDI5OWQ4N2U5NDc3YzAiLCJpYXQiOjE1ODg4NDE2NjYsIm5iZiI6MTU4ODg0MTY2NiwiZXhwIjoxNjIwMzc3NjY2LCJzdWIiOiIxIiwic2NvcGVzIjpbXX0.bxGKiBhryz6g92jDEd4-rCuHT1VexITF_w1cvv5u-rG1FS4LPLVYlXf9jPoO7zNd0g1vsMOMf7NqZZIQsLw9D8BlZa_EHeT8o4GoLxP4Xi22372yU4LFIETFsrhgonqmAhbd_GDm8W7CHiJoEphE0NuwRZQVg3rH796_SaRFxLhU29d6cTjrUjXjwgwmQhtgZOwnGwSEEeLXdDaR41tGXnREItkbzjL8m0GrNa8kq6Es0Vq6SYMGj1Y6aCXmWxSOnHyOu8_hTCA4vHYm-wjfT0A3igbFBiYkNXM_521ox-TW8MOr8kwpe7ahrdXP_hF46K5jQ24m3jcvKaO9BEmECchGVUwYud8a_8tEPM2rjiZGfHSPzuSlyzlrntTpwqESinuJOW6_X_TE_WlojuVSEjmy20WCzVQgc2zXHOeB9HWwRgVP14sHq-zvUmW8Jqg3_kcCQmYx0lI0m9vLW9IRNztx7XQsduJ55tQvR29jaRMmNhRYcDrAnw6eS6V2UD0gYfrx_kn6zOVT5L9NS9gnxNhnbKz83tm1foP8zfXUqPhWmWnbHKMeGF1GFtQcSakHGkQvGY0jMH4FIaVyHQS8kxVc_55Q91agpCZvQ_gsm3sUgIVrFYAObtinnX90dat9rZgtNMhlz2imPRDlFrG9unLInzbBbbNPT4ZhSo_WLug\";\nvar someUsers = [{\n  id: 627,\n  first_name: 'Nico',\n  last_name: 'Pushwoosh'\n}, {\n  id: 626,\n  first_name: 'Stroe',\n  last_name: 'Catalin'\n}];\nvar someOptions = [{\n  id: 2,\n  name: 'Non-smoking driver',\n  type: 'driver'\n}, {\n  id: 14,\n  name: 'No conversations',\n  type: 'client'\n}];\nvar remoteSearchUsersMultiple = {\n  filterOption: false,\n  mode: 'multiple',\n  paramSearchQuery: 'search',\n  apiFn: function () {\n    var _apiFn = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(params) {\n      var result, token, url, fetchOptions;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              result = [];\n              token = getToken();\n              url = new URL(API);\n              Object.keys(params).forEach(function (key) {\n                return url.searchParams.append(key, params[key]);\n              });\n              fetchOptions = {\n                method: 'GET',\n                headers: {\n                  Authorization: \"Bearer \".concat(token),\n                  'Content-Type': 'application/json'\n                }\n              };\n              _context.next = 7;\n              return fetch(url, fetchOptions).then(function (response) {\n                return response.json();\n              }).then(function (body) {\n                result = body.data.map(function (obj) {\n                  return {\n                    text: \"\".concat(obj.first_name, \" \").concat(obj.last_name),\n                    value: obj.id\n                  };\n                });\n              });\n\n            case 7:\n              return _context.abrupt(\"return\", result);\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    function apiFn(_x) {\n      return _apiFn.apply(this, arguments);\n    }\n\n    return apiFn;\n  }()\n};\nvar remoteSearchUsersSingle = {\n  filterOption: false,\n  mode: 'default',\n  paramSearchQuery: 'search',\n  apiFn: function () {\n    var _apiFn2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(params) {\n      var result, token, url, fetchOptions;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              result = [];\n              token = getToken();\n              url = new URL(API);\n              Object.keys(params).forEach(function (key) {\n                return url.searchParams.append(key, params[key]);\n              });\n              fetchOptions = {\n                method: 'GET',\n                headers: {\n                  Authorization: \"Bearer \".concat(token),\n                  'Content-Type': 'application/json'\n                }\n              };\n              _context2.next = 7;\n              return fetch(url, fetchOptions).then(function (response) {\n                return response.json();\n              }).then(function (body) {\n                result = body.data.map(function (obj) {\n                  return {\n                    text: \"\".concat(obj.first_name, \" \").concat(obj.last_name),\n                    value: obj.id\n                  };\n                });\n              });\n\n            case 7:\n              return _context2.abrupt(\"return\", result);\n\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    function apiFn(_x2) {\n      return _apiFn2.apply(this, arguments);\n    }\n\n    return apiFn;\n  }()\n};\nvar remoteSearchCityrideOptionsClient = {\n  filterOption: false,\n  mode: 'multiple',\n  paramSearchQuery: 'search',\n  apiFn: function () {\n    var _apiFn3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(params) {\n      var result, token, url, fetchOptions;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              result = [];\n              token = token_cityride;\n              url = new URL(API_CITYRIDE);\n              url.searchParams.append('filters[type]', 'client');\n              Object.keys(params).forEach(function (key) {\n                return url.searchParams.append(key, params[key]);\n              });\n              fetchOptions = {\n                method: 'GET',\n                headers: {\n                  Authorization: \"Bearer \".concat(token),\n                  'Content-Type': 'application/json'\n                }\n              };\n              _context3.next = 8;\n              return fetch(url, fetchOptions).then(function (response) {\n                return response.json();\n              }).then(function (body) {\n                result = body.data.map(function (obj) {\n                  return {\n                    text: obj.name,\n                    value: obj.id\n                  };\n                });\n              });\n\n            case 8:\n              return _context3.abrupt(\"return\", result);\n\n            case 9:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    function apiFn(_x3) {\n      return _apiFn3.apply(this, arguments);\n    }\n\n    return apiFn;\n  }()\n};\nvar remoteSearchCityrideOptionsDriver = {\n  filterOption: false,\n  mode: 'multiple',\n  paramSearchQuery: 'search',\n  apiFn: function () {\n    var _apiFn4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(params) {\n      var result, token, url, fetchOptions;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              result = [];\n              token = token_cityride;\n              url = new URL(API_CITYRIDE);\n              url.searchParams.append('filters[type]', 'driver');\n              Object.keys(params).forEach(function (key) {\n                return url.searchParams.append(key, params[key]);\n              });\n              fetchOptions = {\n                method: 'GET',\n                headers: {\n                  Authorization: \"Bearer \".concat(token),\n                  'Content-Type': 'application/json'\n                }\n              };\n              _context4.next = 8;\n              return fetch(url, fetchOptions).then(function (response) {\n                return response.json();\n              }).then(function (body) {\n                result = body.data.map(function (obj) {\n                  return {\n                    text: obj.name,\n                    value: obj.id\n                  };\n                });\n              });\n\n            case 8:\n              return _context4.abrupt(\"return\", result);\n\n            case 9:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    function apiFn(_x4) {\n      return _apiFn4.apply(this, arguments);\n    }\n\n    return apiFn;\n  }()\n};\n\nvar RemoteSelectUsers = /*#__PURE__*/function (_React$Component) {\n  _inherits(RemoteSelectUsers, _React$Component);\n\n  function RemoteSelectUsers() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, RemoteSelectUsers);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(RemoteSelectUsers)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handleSubmit = function (values) {\n      console.log('handleSubmit values form: ', values);\n    };\n\n    return _this;\n  }\n\n  _createClass(RemoteSelectUsers, [{\n    key: \"render\",\n    value: function render() {\n      var implicitValues = {\n        users_multiple: someUsers.map(function (obj) {\n          return obj.id;\n        }),\n        users_single: null,\n        options: {\n          client: someOptions.filter(function (el) {\n            return el.type !== 'driver';\n          }).map(function (el) {\n            return el.id;\n          }),\n          driver: someOptions.filter(function (el) {\n            return el.type !== 'client';\n          }).map(function (el) {\n            return el.id;\n          })\n        },\n        date: null\n      };\n      var formConfig = [{\n        label: 'Users Multiple',\n        field: 'users_multiple',\n        type: 'remoteSelect',\n        remoteSearch: remoteSearchUsersMultiple,\n        // either with implicitValues\n        // initialValue: someUsers.map((obj => obj.id)),\n        options: someUsers.map(function (obj) {\n          return {\n            text: \"\".concat(obj.first_name, \" \").concat(obj.last_name),\n            value: obj.id\n          };\n        })\n      }, {\n        label: 'Users Single',\n        field: 'users_single',\n        type: 'remoteSelect',\n        remoteSearch: remoteSearchUsersSingle,\n        // either with implicitValues\n        // initialValue: 627,\n        options: [{\n          text: 'Nico Pushwoosh',\n          value: 627\n        }]\n      }, {\n        label: 'Cityride Options',\n        field: 'options',\n        items: [{\n          label: 'Client',\n          field: 'options.client',\n          type: 'remoteSelect',\n          remoteSearch: remoteSearchCityrideOptionsClient,\n          options: someOptions.filter(function (el) {\n            return el.type !== 'driver';\n          }).map(function (el) {\n            return {\n              text: el.name,\n              value: el.id\n            };\n          })\n        }, {\n          label: 'Driver',\n          field: 'options.driver',\n          type: 'remoteSelect',\n          remoteSearch: remoteSearchCityrideOptionsDriver,\n          options: someOptions.filter(function (el) {\n            return el.type !== 'client';\n          }).map(function (el) {\n            return {\n              text: el.name,\n              value: el.id\n            };\n          })\n        }]\n      }, {\n        label: 'Datepicker',\n        field: 'date',\n        type: 'date',\n        placeholder: 'aasdaddsda'\n      }];\n      return /*#__PURE__*/React.createElement(Form, {\n        onSubmit: this.handleSubmit,\n        config: formConfig,\n        values: implicitValues,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 12\n        }\n      });\n    }\n  }]);\n\n  return RemoteSelectUsers;\n}(React.Component);\n\nexport default RemoteSelectUsers;","map":{"version":3,"sources":["/Users/stefanm/Projects/js-core/src/testModules/dashboard/pages/remoteSelectUsers.js"],"names":["React","Form","getToken","API","API_CITYRIDE","token_cityride","someUsers","id","first_name","last_name","someOptions","name","type","remoteSearchUsersMultiple","filterOption","mode","paramSearchQuery","apiFn","params","result","token","url","URL","Object","keys","forEach","key","searchParams","append","fetchOptions","method","headers","Authorization","fetch","then","response","json","body","data","map","obj","text","value","remoteSearchUsersSingle","remoteSearchCityrideOptionsClient","remoteSearchCityrideOptionsDriver","RemoteSelectUsers","handleSubmit","values","console","log","implicitValues","users_multiple","users_single","options","client","filter","el","driver","date","formConfig","label","field","remoteSearch","items","placeholder","Component"],"mappings":"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","sourcesContent":["/* eslint-disable camelcase */\nimport React from 'react'\nimport { Form, getToken } from '../../../lib'\n\nconst API = `https://stage.api.citylink.ro/api/v1/admin/users`\n\nconst API_CITYRIDE = `https://stage.crm.api.cityride.tech/api/v1/options`\n\nconst token_cityride = `eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdWQiOiIxIiwianRpIjoiNGRjMmI4MjhmYjYzN2JhYzNkYjZiMDBkNDhjMTE0ZDJmZGM4MGU3OTg0YzViMjYzNTRkMzdhMzVjMjczOTJkMjk3NDI5OWQ4N2U5NDc3YzAiLCJpYXQiOjE1ODg4NDE2NjYsIm5iZiI6MTU4ODg0MTY2NiwiZXhwIjoxNjIwMzc3NjY2LCJzdWIiOiIxIiwic2NvcGVzIjpbXX0.bxGKiBhryz6g92jDEd4-rCuHT1VexITF_w1cvv5u-rG1FS4LPLVYlXf9jPoO7zNd0g1vsMOMf7NqZZIQsLw9D8BlZa_EHeT8o4GoLxP4Xi22372yU4LFIETFsrhgonqmAhbd_GDm8W7CHiJoEphE0NuwRZQVg3rH796_SaRFxLhU29d6cTjrUjXjwgwmQhtgZOwnGwSEEeLXdDaR41tGXnREItkbzjL8m0GrNa8kq6Es0Vq6SYMGj1Y6aCXmWxSOnHyOu8_hTCA4vHYm-wjfT0A3igbFBiYkNXM_521ox-TW8MOr8kwpe7ahrdXP_hF46K5jQ24m3jcvKaO9BEmECchGVUwYud8a_8tEPM2rjiZGfHSPzuSlyzlrntTpwqESinuJOW6_X_TE_WlojuVSEjmy20WCzVQgc2zXHOeB9HWwRgVP14sHq-zvUmW8Jqg3_kcCQmYx0lI0m9vLW9IRNztx7XQsduJ55tQvR29jaRMmNhRYcDrAnw6eS6V2UD0gYfrx_kn6zOVT5L9NS9gnxNhnbKz83tm1foP8zfXUqPhWmWnbHKMeGF1GFtQcSakHGkQvGY0jMH4FIaVyHQS8kxVc_55Q91agpCZvQ_gsm3sUgIVrFYAObtinnX90dat9rZgtNMhlz2imPRDlFrG9unLInzbBbbNPT4ZhSo_WLug`\n\nconst someUsers = [\n  {\n    id: 627,\n    first_name: 'Nico',\n    last_name: 'Pushwoosh',\n  },\n  {\n    id: 626,\n    first_name: 'Stroe',\n    last_name: 'Catalin',\n  },\n]\n\nconst someOptions = [\n  {\n    id: 2,\n    name: 'Non-smoking driver',\n    type: 'driver',\n  },\n  {\n    id: 14,\n    name: 'No conversations',\n    type: 'client',\n  },\n]\n\nconst remoteSearchUsersMultiple = {\n  filterOption: false,\n  mode: 'multiple',\n  paramSearchQuery: 'search',\n  async apiFn(params) {\n    let result = []\n\n    const token = getToken()\n    const url = new URL(API)\n    Object.keys(params).forEach(key => url.searchParams.append(key, params[key]))\n\n    const fetchOptions = {\n      method: 'GET',\n      headers: {\n        Authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json',\n      },\n    }\n\n    await fetch(url, fetchOptions)\n      .then(response => response.json())\n      .then(body => {\n        result = body.data.map(obj => ({\n          text: `${obj.first_name} ${obj.last_name}`,\n          value: obj.id,\n        }))\n      })\n    return result\n  },\n}\n\nconst remoteSearchUsersSingle = {\n  filterOption: false,\n  mode: 'default',\n  paramSearchQuery: 'search',\n  async apiFn(params) {\n    let result = []\n\n    const token = getToken()\n    const url = new URL(API)\n    Object.keys(params).forEach(key => url.searchParams.append(key, params[key]))\n\n    const fetchOptions = {\n      method: 'GET',\n      headers: {\n        Authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json',\n      },\n    }\n\n    await fetch(url, fetchOptions)\n      .then(response => response.json())\n      .then(body => {\n        result = body.data.map(obj => ({\n          text: `${obj.first_name} ${obj.last_name}`,\n          value: obj.id,\n        }))\n      })\n    return result\n  },\n}\n\nconst remoteSearchCityrideOptionsClient = {\n  filterOption: false,\n  mode: 'multiple',\n  paramSearchQuery: 'search',\n  async apiFn(params) {\n    let result = []\n\n    const token = token_cityride\n    const url = new URL(API_CITYRIDE)\n\n    url.searchParams.append('filters[type]', 'client')\n\n    Object.keys(params).forEach(key => url.searchParams.append(key, params[key]))\n\n    const fetchOptions = {\n      method: 'GET',\n      headers: {\n        Authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json',\n      },\n    }\n\n    await fetch(url, fetchOptions)\n      .then(response => response.json())\n      .then(body => {\n        result = body.data.map(obj => ({\n          text: obj.name,\n          value: obj.id,\n        }))\n      })\n    return result\n  },\n}\n\nconst remoteSearchCityrideOptionsDriver = {\n  filterOption: false,\n  mode: 'multiple',\n  paramSearchQuery: 'search',\n  async apiFn(params) {\n    let result = []\n\n    const token = token_cityride\n    const url = new URL(API_CITYRIDE)\n\n    url.searchParams.append('filters[type]', 'driver')\n\n    Object.keys(params).forEach(key => url.searchParams.append(key, params[key]))\n\n    const fetchOptions = {\n      method: 'GET',\n      headers: {\n        Authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json',\n      },\n    }\n\n    await fetch(url, fetchOptions)\n      .then(response => response.json())\n      .then(body => {\n        result = body.data.map(obj => ({\n          text: obj.name,\n          value: obj.id,\n        }))\n      })\n    return result\n  },\n}\n\nclass RemoteSelectUsers extends React.Component {\n  handleSubmit = values => {\n    console.log('handleSubmit values form: ', values)\n  }\n\n  render() {\n    const implicitValues = {\n      users_multiple: someUsers.map(obj => obj.id),\n      users_single: null,\n      options: {\n        client: someOptions.filter(el => el.type !== 'driver').map(el => el.id),\n        driver: someOptions.filter(el => el.type !== 'client').map(el => el.id),\n      },\n      date: null,\n    }\n\n    const formConfig = [\n      {\n        label: 'Users Multiple',\n        field: 'users_multiple',\n        type: 'remoteSelect',\n        remoteSearch: remoteSearchUsersMultiple,\n        // either with implicitValues\n        // initialValue: someUsers.map((obj => obj.id)),\n        options: someUsers.map(obj => {\n          return { text: `${obj.first_name} ${obj.last_name}`, value: obj.id }\n        }),\n      },\n      {\n        label: 'Users Single',\n        field: 'users_single',\n        type: 'remoteSelect',\n        remoteSearch: remoteSearchUsersSingle,\n        // either with implicitValues\n        // initialValue: 627,\n        options: [{ text: 'Nico Pushwoosh', value: 627 }],\n      },\n      {\n        label: 'Cityride Options',\n        field: 'options',\n        items: [\n          {\n            label: 'Client',\n            field: 'options.client',\n            type: 'remoteSelect',\n            remoteSearch: remoteSearchCityrideOptionsClient,\n            options: someOptions\n              .filter(el => el.type !== 'driver')\n              .map(el => {\n                return { text: el.name, value: el.id }\n              }),\n          },\n          {\n            label: 'Driver',\n            field: 'options.driver',\n            type: 'remoteSelect',\n            remoteSearch: remoteSearchCityrideOptionsDriver,\n            options: someOptions\n              .filter(el => el.type !== 'client')\n              .map(el => {\n                return { text: el.name, value: el.id }\n              }),\n          },\n        ],\n      },\n      {\n        label: 'Datepicker',\n        field: 'date',\n        type: 'date',\n        placeholder: 'aasdaddsda',\n      },\n    ]\n\n    return <Form onSubmit={this.handleSubmit} config={formConfig} values={implicitValues} />\n  }\n}\n\nexport default RemoteSelectUsers\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _toConsumableArray from \"/Users/stefanm/Projects/js-core/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/stefanm/Projects/js-core/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/stefanm/Projects/js-core/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/stefanm/Projects/js-core/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/stefanm/Projects/js-core/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/stefanm/Projects/js-core/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/stefanm/Projects/js-core/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _regeneratorRuntime from \"/Users/stefanm/Projects/js-core/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _objectSpread from \"/Users/stefanm/Projects/js-core/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _asyncToGenerator from \"/Users/stefanm/Projects/js-core/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _dec,\n    _class,\n    _temp,\n    _jsxFileName = \"/Users/stefanm/Projects/js-core/src/testModules/dashboard/pages/tableSortFix.js\";\n\nimport React from \"react\";\nimport { DataTable, net, getToken } from \"../../../lib\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Card, Radio, Tag } from \"antd\";\nimport { load } from \"../list/actions\";\nvar api = net.api,\n    get = net.get;\nvar API_USERS = \"https://stage.api.citylink.ro/api/v1/admin/users\";\n\nvar getUsers = function getUsers(params) {\n  return get(API_USERS, params, getToken());\n};\n\nvar remoteFilterUsersFirstName = {\n  filterOption: false,\n  mode: \"single\",\n  paramSearchQuery: \"search\",\n  allowClear: true,\n  styleColumn: {\n    padding: 8,\n    width: \"200px\"\n  },\n  styleSelect: {\n    width: \"100%\",\n    marginBottom: 8,\n    marginTop: 8\n  },\n  apiFn: function () {\n    var _apiFn = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(params) {\n      var result;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              result = [];\n              params = _objectSpread({}, params);\n              _context.next = 4;\n              return api(getUsers(params)).then(function (response) {\n                return response.json();\n              }).then(function (json) {\n                result = json.data.map(function (user) {\n                  return {\n                    text: \"\".concat(user.id, \" - \").concat(user.first_name),\n                    value: user.id\n                  };\n                });\n              });\n\n            case 4:\n              return _context.abrupt(\"return\", result);\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    function apiFn(_x) {\n      return _apiFn.apply(this, arguments);\n    }\n\n    return apiFn;\n  }()\n};\nvar remoteFilterUsersLastName = {\n  filterOption: false,\n  mode: \"single\",\n  paramSearchQuery: \"search\",\n  allowClear: true,\n  styleColumn: {\n    padding: 8,\n    width: \"200px\"\n  },\n  styleSelect: {\n    width: \"100%\",\n    marginBottom: 8,\n    marginTop: 8\n  },\n  apiFn: function () {\n    var _apiFn2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(params) {\n      var result;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              result = [];\n              params = _objectSpread({}, params);\n              _context2.next = 4;\n              return api(getUsers(params)).then(function (response) {\n                return response.json();\n              }).then(function (json) {\n                result = json.data.map(function (user) {\n                  return {\n                    text: \"\".concat(user.id, \" - \").concat(user.last_name),\n                    value: user.id\n                  };\n                });\n              });\n\n            case 4:\n              return _context2.abrupt(\"return\", result);\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    function apiFn(_x2) {\n      return _apiFn2.apply(this, arguments);\n    }\n\n    return apiFn;\n  }()\n};\nvar Table = (_dec = connect(function (_ref) {\n  var users = _ref.users;\n  return {\n    users: users\n  };\n}), withRouter(_class = _dec(_class = (_temp = /*#__PURE__*/function (_React$Component) {\n  _inherits(Table, _React$Component);\n\n  function Table(props) {\n    var _this;\n\n    _classCallCheck(this, Table);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Table).call(this, props));\n\n    _this.getExtraColumns = function (view) {\n      if (view === \"default\") {\n        return [];\n      }\n\n      return [{\n        title: \"Phone\",\n        dataIndex: \"phone_number\",\n        sorter: true\n      }, {\n        title: \"roles\",\n        dataIndex: \"roles\",\n        render: function render(roles) {\n          return roles.map(function (role) {\n            return /*#__PURE__*/React.createElement(Tag, {\n              key: role,\n              __self: _assertThisInitialized(_assertThisInitialized(_this)),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 44\n              }\n            }, role);\n          });\n        },\n        filters: [{\n          text: \"client\",\n          value: \"client\"\n        }, {\n          text: \"operator\",\n          value: \"operator\"\n        }, {\n          text: \"bike-operator\",\n          value: \"bike-operator\"\n        }, {\n          text: \"fleet-operator\",\n          value: \"fleet-operator\"\n        }, {\n          text: \"admin\",\n          value: \"admin\"\n        }],\n        mobile: false\n      }];\n    };\n\n    _this.handleViewChange = function (e) {\n      _this.setState({\n        view: e.target.value\n      });\n    };\n\n    _this.state = {\n      view: \"default\"\n    };\n    return _this;\n  }\n\n  _createClass(Table, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var users = this.props.users;\n      var view = this.state.view;\n      var extra = [/*#__PURE__*/React.createElement(Radio.Group, {\n        key: \"view\",\n        value: view,\n        onChange: function onChange(e) {\n          return _this2.handleViewChange(e);\n        },\n        className: \"mr-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Radio.Button, {\n        value: \"default\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 9\n        }\n      }, \"Default\"), /*#__PURE__*/React.createElement(Radio.Button, {\n        value: \"info\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 9\n        }\n      }, \"Info\"))];\n      var columns = [{\n        title: \"id\",\n        dataIndex: \"id\",\n        sorter: true,\n        // Only 1 column allowed with this prop\n        defaultSortOrder: \"ascend\"\n      }, {\n        title: \"first_name\",\n        dataIndex: \"first_name\",\n        sorter: true,\n        remoteFilter: remoteFilterUsersFirstName\n      }, {\n        title: \"last_name\",\n        dataIndex: \"last_name\",\n        sorter: true,\n        remoteFilter: remoteFilterUsersLastName\n      }, {\n        title: \"email\",\n        dataIndex: \"email\",\n        sorter: true,\n        excludeFromColumnSelector: true\n      }, {\n        title: \"No dataIndex\",\n        key: \"actions\",\n        render: function render() {\n          return Math.floor(Math.random() * 100);\n        }\n      }].concat(_toConsumableArray(this.getExtraColumns(view)));\n      return /*#__PURE__*/React.createElement(Card, {\n        title: /*#__PURE__*/React.createElement(\"strong\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 20\n          }\n        }, \"DataTable\"),\n        extra: extra,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(DataTable, {\n        columns: columns,\n        dataSource: users,\n        loadAction: load,\n        showColumnSelector: true,\n        settingsKey: \"users\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return Table;\n}(React.Component), _temp)) || _class) || _class);\nexport default Table;","map":{"version":3,"sources":["/Users/stefanm/Projects/js-core/src/testModules/dashboard/pages/tableSortFix.js"],"names":["React","DataTable","net","getToken","connect","withRouter","Card","Radio","Tag","load","api","get","API_USERS","getUsers","params","remoteFilterUsersFirstName","filterOption","mode","paramSearchQuery","allowClear","styleColumn","padding","width","styleSelect","marginBottom","marginTop","apiFn","result","then","response","json","data","map","user","text","id","first_name","value","remoteFilterUsersLastName","last_name","Table","users","props","getExtraColumns","view","title","dataIndex","sorter","render","roles","role","filters","mobile","handleViewChange","e","setState","target","state","extra","columns","defaultSortOrder","remoteFilter","excludeFromColumnSelector","key","Math","floor","random","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { DataTable, net, getToken } from \"../../../lib\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Card, Radio, Tag } from \"antd\";\nimport { load } from \"../list/actions\";\n\nconst { api, get } = net;\n\nconst API_USERS = `https://stage.api.citylink.ro/api/v1/admin/users`;\n\nconst getUsers = params => get(API_USERS, params, getToken());\n\nconst remoteFilterUsersFirstName = {\n  filterOption: false,\n  mode: \"single\",\n  paramSearchQuery: \"search\",\n  allowClear: true,\n  styleColumn: { padding: 8, width: \"200px\" },\n  styleSelect: { width: \"100%\", marginBottom: 8, marginTop: 8 },\n  apiFn: async params => {\n    let result = [];\n\n    params = {\n      ...params\n      // limit: 5,\n    };\n\n    await api(getUsers(params))\n      .then(response => response.json())\n      .then(json => {\n        result = json.data.map(user => ({\n          text: `${user.id} - ${user.first_name}`,\n          value: user.id\n        }));\n      });\n\n    return result;\n  }\n};\n\nconst remoteFilterUsersLastName = {\n  filterOption: false,\n  mode: \"single\",\n  paramSearchQuery: \"search\",\n  allowClear: true,\n  styleColumn: { padding: 8, width: \"200px\" },\n  styleSelect: { width: \"100%\", marginBottom: 8, marginTop: 8 },\n  apiFn: async params => {\n    let result = [];\n\n    params = {\n      ...params\n      // limit: 5,\n    };\n\n    await api(getUsers(params))\n      .then(response => response.json())\n      .then(json => {\n        result = json.data.map(user => ({\n          text: `${user.id} - ${user.last_name}`,\n          value: user.id\n        }));\n      });\n\n    return result;\n  }\n};\n\n@withRouter\n@connect(({ users }) => ({ users }))\nclass Table extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      view: \"default\"\n    };\n  }\n\n  getExtraColumns = view => {\n    if (view === \"default\") {\n      return [];\n    }\n\n    return [\n      {\n        title: \"Phone\",\n        dataIndex: \"phone_number\",\n        sorter: true\n      },\n      {\n        title: \"roles\",\n        dataIndex: \"roles\",\n        render: roles => roles.map(role => <Tag key={role}>{role}</Tag>),\n        filters: [\n          { text: \"client\", value: \"client\" },\n          { text: \"operator\", value: \"operator\" },\n          { text: \"bike-operator\", value: \"bike-operator\" },\n          { text: \"fleet-operator\", value: \"fleet-operator\" },\n          { text: \"admin\", value: \"admin\" }\n        ],\n        mobile: false\n      }\n    ];\n  };\n\n  handleViewChange = e => {\n    this.setState({ view: e.target.value });\n  };\n\n  render() {\n    const { users } = this.props;\n\n    const { view } = this.state;\n\n    const extra = [\n      <Radio.Group\n        key=\"view\"\n        value={view}\n        onChange={e => this.handleViewChange(e)}\n        className=\"mr-2\"\n      >\n        <Radio.Button value=\"default\">Default</Radio.Button>\n        <Radio.Button value=\"info\">Info</Radio.Button>\n      </Radio.Group>\n    ];\n\n    const columns = [\n      {\n        title: \"id\",\n        dataIndex: \"id\",\n        sorter: true,\n        // Only 1 column allowed with this prop\n        defaultSortOrder: \"ascend\"\n      },\n      {\n        title: \"first_name\",\n        dataIndex: \"first_name\",\n        sorter: true,\n        remoteFilter: remoteFilterUsersFirstName\n      },\n      {\n        title: \"last_name\",\n        dataIndex: \"last_name\",\n        sorter: true,\n        remoteFilter: remoteFilterUsersLastName\n      },\n      {\n        title: \"email\",\n        dataIndex: \"email\",\n        sorter: true,\n        excludeFromColumnSelector: true\n      },\n      {\n        title: \"No dataIndex\",\n        key: \"actions\",\n        render: () => Math.floor(Math.random() * 100)\n      },\n      ...this.getExtraColumns(view)\n    ];\n\n    return (\n      <Card title={<strong>DataTable</strong>} extra={extra}>\n        <DataTable\n          columns={columns}\n          dataSource={users}\n          loadAction={load}\n          showColumnSelector\n          settingsKey=\"users\"\n        />\n      </Card>\n    );\n  }\n}\n\nexport default Table;\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _classCallCheck from \"/Users/stefanm/Projects/js-core/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/stefanm/Projects/js-core/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/stefanm/Projects/js-core/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/stefanm/Projects/js-core/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/stefanm/Projects/js-core/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\n\nvar _dec,\n    _class,\n    _temp,\n    _jsxFileName = \"/Users/stefanm/Projects/js-core/src/components/core/TopBar/ProfileMenu/index.js\";\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { Menu, Dropdown, Avatar } from 'antd';\nimport { FormattedMessage } from 'react-intl'; // import { APP_LAST_UPDATE } from 'utils/constants'\n\nimport styles from './style.module.scss';\nvar ProfileMenu = (_dec = connect(function (_ref) {\n  var user = _ref.user;\n  return {\n    user: user\n  };\n}), _dec(_class = (_temp = /*#__PURE__*/function (_React$Component) {\n  _inherits(ProfileMenu, _React$Component);\n\n  function ProfileMenu() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ProfileMenu);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ProfileMenu)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.logout = function () {\n      var dispatch = _this.props.dispatch;\n      dispatch({\n        type: 'user/LOGOUT'\n      });\n    };\n\n    _this.reload = function () {\n      window.location.reload(true);\n    };\n\n    return _this;\n  }\n\n  _createClass(ProfileMenu, [{\n    key: \"render\",\n    value: function render() {\n      var user = this.props.user;\n      var menu = /*#__PURE__*/React.createElement(Menu, {\n        selectable: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Menu.Item, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(FormattedMessage, {\n        id: \"topBar.profileMenu.hello\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 13\n        }\n      }), \",\", ' ', /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 13\n        }\n      }, user.name || 'Anonymous')), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(FormattedMessage, {\n        id: \"topBar.profileMenu.role\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 15\n        }\n      }), \":\", ' '), user.roles.join(', '))), /*#__PURE__*/React.createElement(Menu.Divider, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(Menu.Item, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: \"#\",\n        onClick: this.reload,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"\".concat(styles.menuIcon, \" icmn-spinner11\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(FormattedMessage, {\n        id: \"topBar.profileMenu.refresh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }\n      }))), /*#__PURE__*/React.createElement(Menu.Divider, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(Menu.Item, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: \"#\",\n        onClick: this.logout,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"\".concat(styles.menuIcon, \" icmn-exit\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(FormattedMessage, {\n        id: \"topBar.profileMenu.logout\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }\n      }))));\n      return /*#__PURE__*/React.createElement(Dropdown, {\n        overlay: menu,\n        trigger: ['click'],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.dropdown,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Avatar, {\n        className: styles.avatar,\n        shape: \"square\",\n        size: \"large\",\n        src: user.profile_picture,\n        icon: \"user\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }\n      })));\n    }\n  }]);\n\n  return ProfileMenu;\n}(React.Component), _temp)) || _class);\nexport default ProfileMenu;","map":{"version":3,"sources":["/Users/stefanm/Projects/js-core/src/components/core/TopBar/ProfileMenu/index.js"],"names":["React","connect","Menu","Dropdown","Avatar","FormattedMessage","styles","ProfileMenu","user","logout","dispatch","props","type","reload","window","location","menu","name","roles","join","menuIcon","dropdown","avatar","profile_picture","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { connect } from 'react-redux'\nimport { Menu, Dropdown, Avatar } from 'antd'\nimport { FormattedMessage } from 'react-intl'\n// import { APP_LAST_UPDATE } from 'utils/constants'\nimport styles from './style.module.scss'\n\n@connect(({ user }) => ({ user }))\nclass ProfileMenu extends React.Component {\n  logout = () => {\n    const { dispatch } = this.props\n    dispatch({\n      type: 'user/LOGOUT',\n    })\n  }\n\n  reload = () => {\n    window.location.reload(true)\n  }\n\n  render() {\n    const { user } = this.props\n    const menu = (\n      <Menu selectable={false}>\n        <Menu.Item>\n          <div>\n            <FormattedMessage id=\"topBar.profileMenu.hello\" />,{' '}\n            <strong>{user.name || 'Anonymous'}</strong>\n          </div>\n          <div>\n            <strong>\n              <FormattedMessage id=\"topBar.profileMenu.role\" />:{' '}\n            </strong>\n            {user.roles.join(', ')}\n          </div>\n        </Menu.Item>\n        <Menu.Divider />\n        {/* <Menu.Item>\n          <a href=\"#\">\n            <i className={`${styles.menuIcon} icmn-user`} />\n            <FormattedMessage id=\"topBar.profileMenu.editProfile\" />\n          </a>\n        </Menu.Item>\n        <Menu.Divider />\n        <Menu.Item disabled>Last updated: {APP_LAST_UPDATE}</Menu.Item> */}\n        <Menu.Item>\n          <a href=\"#\" onClick={this.reload}>\n            <i className={`${styles.menuIcon} icmn-spinner11`} />\n            <FormattedMessage id=\"topBar.profileMenu.refresh\" />\n          </a>\n        </Menu.Item>\n        <Menu.Divider />\n        <Menu.Item>\n          <a href=\"#\" onClick={this.logout}>\n            <i className={`${styles.menuIcon} icmn-exit`} />\n            <FormattedMessage id=\"topBar.profileMenu.logout\" />\n          </a>\n        </Menu.Item>\n      </Menu>\n    )\n    return (\n      <Dropdown overlay={menu} trigger={['click']}>\n        <div className={styles.dropdown}>\n          <Avatar\n            className={styles.avatar}\n            shape=\"square\"\n            size=\"large\"\n            src={user.profile_picture}\n            icon=\"user\"\n          />\n        </div>\n      </Dropdown>\n    )\n  }\n}\n\nexport default ProfileMenu\n"]},"metadata":{},"sourceType":"module"}